<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../../lib/layui/css/layui.css">
    <link rel="stylesheet" href="../../static/css/font.css">
    <link rel="stylesheet" href="../../static/css/weadmin.css">
    <link rel="stylesheet" href="../../static/css/cyh_button.css">
</head>
<style type="text/css">
    .tree-txt-active{
        color :red;
    }
    .tree-cyh {
        font-family: "黑体 Regular", 黑体;
        font-weight: 400;
        font-style: normal;
        font-size: 18px;
        color: rgb(51, 51, 51);
    }
</style>
<body>

<div style="float: left;">
    <div class="weadmin-body" style="">
        <ul class="layui-nav" style="font-size: 14px;border-radius: 0px;padding:0;background-color: rgb(255,255,255)">
            <li class="layui-nav-item layui-inline">
                <a type="button" class="little-button button-blue el-button"   onclick="WeAdminShow('修改','./AddSingleImportResolve.html',790,550)">修改</a>
            </li>
            <li class="layui-inline layui-nav-item">
                <a type="button" class="little-button button-red el-button"   onclick="WeAdminShow('取消','./UpdateSingleImportResolve.html.html',790,550)">取消</a>
            </li>
            <li class="layui-nav-item layui-inline">
                <a type="button" class="box-button button-blue el-button"   onclick="WeAdminShow('单号修改','./AddSingleImportResolve.html',790,550)">单号修改</a>
            </li>
            <li class="layui-inline layui-nav-item">
                <a type="button" class="box-button button-red el-button"   onclick="WeAdminShow('快速退返','./UpdateSingleImportResolve.html.html',790,550)">快速退返</a>
            </li>
            <li class="layui-nav-item layui-inline">
                <a type="button" class="little-button button-blue el-button"   onclick="WeAdminShow('浏览','./AddSingleImportResolve.html',790,550)">浏览</a>
            </li>
            <li class="layui-inline layui-nav-item">
                <a type="button" class="little-button button-green el-button"   onclick="WeAdminShow('导出','./UpdateSingleImportResolve.html.html',790,550)">导出</a>
            </li>
            <li class="layui-nav-item layui-inline">
                <a type="button" class="box-button button-blue el-button"   onclick="WeAdminShow('更多条件','./AddSingleImportResolve.html',790,550)">更多条件 </a>
            </li>

        </ul>
        <form class="layui-form"style="margin-top: 10px;" >

            <div style="float: left;">
            <div class="layui-form-item layui-inline"style="width: 170px;margin-right: 25px;position: relative">
                <div class="layui-input-inline">
                    <select name="midtype" id="typeId" lay-verify="required">
                        <option value="1">运单号码</option>
                        <option value="2">转单号码</option>
                        <option value="3">参考编号</option>
                    </select>
                    <textarea class="layui-textarea" id="allNumber"  style="width: 190px;height: 120px;text-align: center;" placeholder="多个单号回车隔开" ></textarea>
                    <button style="width: 25px;height: 60px;background-color: rgb(22,155,213);color: white;position: absolute;bottom: 34%;right: 0" type="button">清</button>
                    <input type="checkbox" name="like1[read]" lay-skin="primary" title="有货款">
                    <input type="checkbox" name="like1[read]" lay-skin="primary" title="退返客户">
                    <input type="checkbox" name="like1[read]" lay-skin="primary" title="代理退件">
                </div>
            </div>
            </div>
            <div style="display: inline-block">



            <div class="layui-form-item layui-inline"style="width: 170px;margin-right: 25px;">
                <label class="layui-form-label input-title">寄件日期</label>
                <div class="layui-input-inline" >
                    <input type="text" name="date" id="openTime" lay-verify="date" placeholder="开始日期" autocomplete="off" class="layui-input" style="display: inline-block;">

                       </div>

            </div>
                <div class="layui-form-item layui-inline"style="width: 12px;font-size: 25px;color: rgb(143,148,153)">
                    <label class="layui-form-label input-title">&nbsp;</label>
                    <div class="layui-input-inline" >
                      /
                    </div>

                </div>

                <div class="layui-form-item layui-inline"style="width: 170px;margin-right: 0px;">
                    <label class="layui-form-label input-title">寄件日期</label>
                    <div class="layui-input-inline" >
                        <input type="text" name="date" id="endTime" lay-verify="date" placeholder="结束日期" autocomplete="off" class="layui-input" style="display: inline-block;">

                    </div>

                </div>

                <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px;margin-right: 0px;">
                <label class="layui-form-label input-title">寄件网点</label>
                <div class="layui-input-inline" >
                    <select name="siteId" id="siteId" lay-verify="required">
                        <option value="总部">总部</option>
                        <option value="深圳">深圳</option>
                        <option value="长沙">长沙</option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px;margin-right: 0px;">
                <label class="layui-form-label input-title">客户类型</label>
                <div class="layui-input-inline" >
                    <select name="clientType" id="clientType" lay-verify="required">
                        <option value="总部">总部</option>
                        <option value="深圳">深圳</option>
                        <option value="长沙">长沙</option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px">
                <label class="layui-form-label input-title">客户</label>
                <div class="layui-input-inline">
                    <select name="client" id="client" lay-verify="required" lay-search="">
                        <option value="">直接选择或搜索选择</option>
                        <option value="1">layer</option>
                        <option value="2">form</option>
                        <option value="3">layim</option>
                        <option value="4">element</option>
                    </select>
                </div>
            </div>
                <div class="layui-form-item layui-inline" style="margin-left: 30px;padding-top: 2.5%; ">
                    <button type="button" class="button-blue" id="bth" >查询</button>
                    <button class="reset-bth" type="reset"  >重置</button>
                </div>
                <br/>

                <div class="layui-form-item layui-inline"style="width: 170px;margin-right: 15px;">
                    <label class="layui-form-label input-title">业务类型</label>
                    <div class="layui-input-inline" >
                        <select name="businessType" id="businessType" lay-verify="required">
                            <option value="总部">总部</option>
                            <option value="深圳">深圳</option>
                            <option value="长沙">长沙</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px;margin-right: 0px;">
                    <label class="layui-form-label input-title" style="width: 118px;">指定路线分类</label>
                    <div class="layui-input-inline" >
                        <select name="assignRouteType" id="assignRouteType" lay-verify="required">
                            <option value="总部">总部</option>
                            <option value="深圳">深圳</option>
                            <option value="长沙">长沙</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px">
                    <label class="layui-form-label input-title">指定路线</label>
                    <div class="layui-input-inline">
                        <select name="assignRouteType" id="assignRoute" lay-verify="required" lay-search="">
                            <option value="">直接选择或搜索选择</option>
                            <option value="1">layer</option>
                            <option value="2">form</option>
                            <option value="3">layim</option>
                            <option value="4">element</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 80px;margin-left: 25px;margin-right: 20px;">
                    <label class="layui-form-label input-title">包装类型</label>
                    <div class="layui-input-inline" style="width: 90px;">
                        <select name="packagingType" id="packagingType" lay-verify="required" style="width: 90px;">
                            <option value="总部">总部</option>
                            <option value="深圳">深圳</option>
                            <option value="长沙">长沙</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 80px;margin-right: 0px;">
                    <label class="layui-form-label input-title">付款方式</label>
                    <div class="layui-input-inline" style="width: 90px;">
                        <select name="paymentMethod" id="paymentMethod" lay-verify="required" style="width: 90px;">

                        </select>
                    </div>
                </div>

                <div class="layui-form-item layui-inline"style="width: 80px;margin-left: 15px;margin-right: 20px;">
                    <label class="layui-form-label input-title">货物类型</label>
                    <div class="layui-input-inline" style="width: 90px;">
                        <select name="cargoType" id="cargoType" lay-verify="required" style="width: 90px;">
                            <option value="总部">总部</option>
                            <option value="深圳">深圳</option>
                            <option value="长沙">长沙</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 80px;margin-right: 0px;">
                    <label class="layui-form-label input-title">税金付款</label>
                    <div class="layui-input-inline" style="width: 90px;">
                        <select name="shuijinMethod" id="shuijinMethod" lay-verify="required" style="width: 90px;">

                        </select>
                    </div>
                </div>

<br/>

                <div class="layui-form-item layui-inline"style="width: 170px;margin-right: 15px;">
                    <label class="layui-form-label input-title" style="width: 60px;">目的地</label>
                    <div class="layui-input-inline" >
                        <select name="destination" id="destination" lay-verify="required">
                            <option value="总部">总部</option>
                            <option value="深圳">深圳</option>
                            <option value="长沙">长沙</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px;margin-right: 0px;">
                    <label class="layui-form-label input-title" style="width: 118px;">走货路线分类</label>
                    <div class="layui-input-inline" >
                        <select name="ShilpRoute" id="ShilpRoute" lay-verify="required">

                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px">
                    <label class="layui-form-label input-title">走货路线</label>
                    <div class="layui-input-inline">
                        <select name="shipmentRoute" id="shipmentRoute" lay-verify="required" lay-search="">

                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px;margin-right: 0px;">
                    <label class="layui-form-label input-title" >派件网点</label>
                    <div class="layui-input-inline" >
                        <select name="faijianId" id="faijianId" lay-verify="required">


                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 80px;margin-left: 25px;margin-right: 20px;">
                    <label class="layui-form-label input-title">运单状态</label>
                    <div class="layui-input-inline" style="width: 90px;">
                        <select name="midtype" id="orderState" lay-verify="required" style="width: 90px;">
                            <option value="">请选择</option>
                            <option value="18">收货中</option>
                            <option value="9">已出货</option>
                            <option value="19">已收货</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item layui-inline"style="width: 80px;margin-right: 0px;">
                    <label class="layui-form-label input-title">报关方式</label>
                    <div class="layui-input-inline" style="width: 90px;">
                        <select name="customsWay" id="customsWay" lay-verify="required" style="width: 90px;">

                        </select>
                    </div>
                </div>

                <div class="layui-form-item layui-inline"style="width: 170px;margin-left: 25px;margin-right: 0px;">
                    <label class="layui-form-label input-title" style="width: 170px">运单/参考/转单(<span style="color: red">模糊</span>)</label>
                    <div class="layui-input-inline" >
                        <input type="text" id="threeNumber" name="timeAfterDeparture" lay-verify="title" value="5"  autocomplete="off" class="layui-input "  >

                    </div>
                </div>
            </div>

        </form>
        <table class="layui-hide" id="test" ></table>

    </div>

</div>

</body>
<script src="../../lib/layui/layui.js" charset="utf-8"></script>
<script src="../../static/js/admin.js" type="text/javascript" charset="utf-8"></script>
<script>
    layui.use(['tree', 'util','jquery','table','laydate','form'], function() {
        var tree = layui.tree
            , layer = layui.layer
            , util = layui.util
            , $ = layui.jquery
            ,table=layui.table
            ,form=layui.form
            ,laydate=layui.laydate;

        laydate.render({
            elem: '#openDate'
        });
        laydate.render({
            elem: '#endDate'
        });
        $.get('http://127.0.0.1:8080/selectBranchBasicsInfoAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.branchCoding+">"+this.branchName+"</option>";
            })
            $("#siteId").html(str);
            $("#faijianId").html(str);
            form.render('select');

        })
        $.get('http://127.0.0.1:8080/selectClientTypeAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.clientName+"</option>";
            })
            $("#clientType").html(str);
            form.render('select');

        })
        //客户
        $.get('http://127.0.0.1:8080/selectCustomerManagementAll',function(result){
            var str="<option value=''>直接选择或搜索选择</option>";
            $(result).each(function() {
                str+="<option value="+this.code+">"+this.name+"</option>";
            })
            $("#client").html(str);
            form.render('select');

        })

        //报关方式
        $.get('http://127.0.0.1:8080/selectCustomsClearanceInfoAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.customsWay+"</option>";
            })
            $("#customsWay").html(str);
            form.render('select');

        })
             //业务分类
        $.get('http://127.0.0.1:8080/selectBusinessTypeAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.businessName+"</option>";
            })
            $("#businessType").html(str);
            form.render('select');

        })
        //指定路线分类
        $.get('http://127.0.0.1:8080/selectRouteTypeAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.typeName+"</option>";
            })
            $("#assignRouteType").html(str);
            $("#ShilpRoute").html(str);
            form.render('select');

        })
        //包装类型
        $.get('http://127.0.0.1:8080/selectPackagingTypeAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.packagingName+"</option>";
            })
            $("#packagingType").html(str);

            form.render('select');

        })
        //付款方式
        $.get('http://127.0.0.1:8080/selectPaymentMethodInfoAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.payType+"</option>";
            })
            $("#paymentMethod").html(str);
            $("#shuijinMethod").html(str);

            form.render('select');

        })

        //货物 类型
        $.get('http://127.0.0.1:8080/selectCargoTypeInfoAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.cargoType+"</option>";
            })
            $("#cargoType").html(str);

            form.render('select');

        })
        //目的地
        $.get('http://127.0.0.1:8080/selectDestinationManagementAll',function(result){
            var str="<option value=''>请选择</option>";
            $(result).each(function() {
                str+="<option value="+this.code+">"+this.name+"</option>";
            })
            $("#destination").html(str);

            form.render('select');

        })



        //客户
        $.get('http://127.0.0.1:8080/selectAssignRouteAll',function(result){
            var str="<option value=''>直接选择或搜索选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.name+"</option>";
            })
            $("#assignRoute").html(str);
            form.render('select');

        })
        //走货路线
        $.get('http://127.0.0.1:8080/selectShipmentRouteAll',function(result){
            var str="<option value=''>直接选择或搜索选择</option>";
            $(result).each(function() {
                str+="<option value="+this.id+">"+this.name+"</option>";
            })
            $("#shipmentRoute").html(str);
            form.render('select');

        })


        // 单选
        $(document).click(function(e) { // 在页面任意位置点击而触发此事件
            if($(e.target).attr('class') === "layui-tree-txt"){ // 防止因为点击展开按钮把已选中的样式取消
                $(".layui-tree-txt").removeClass("tree-txt-active"); // 移除点击样式
                $(e.target).addClass("tree-txt-active"); // e.target表示被点击的目标
            }
        });






        table.render({
            elem: '#test'
            ,url:'http://127.0.0.1:8080/selectOrderAll'
            ,id: 'userTable'
            ,cols: [[ //表头
                {field: '', title: '序号',width:70}
                ,{field: '', title: '启用',width:80}
                ,{field: 'waybillNumber', title: '运单号码',width:100}
                ,{field: 'participationNumber', title: '参考编号',width:100}
                ,{field: 'trackingNumber', title: '转单号码',width:100}
                ,{field: 'sendDate', title: '寄件日期',width:100}
                ,{field: 'branchName', title: '寄件网点',width:100}
                ,{field: 'branchName', title: '录单网点',width:120}
                ,{field: 'clientCode', title: '客户编码',width:100}
                ,{field: 'clientName', title: '客户名称',width:100}
                ,{field: 'serviceType', title: '业务类型',width:100}
                ,{field: 'assignCode', title: '指定路线编码',width:100}
                ,{field: 'assignName', title: '指定路线名称',width:100}
                ,{field: 'destCode', title: '目的地编码',width:100}
                ,{field: 'destName', title: '目的地',width:100}
                ,{field: 'destEnglishName', title: '目的地英文',width:100}
                ,{field: 'packagingName', title: '包装类型',width:100}
                ,{field: 'cargoType', title: '货物类型',width:100}
                ,{field: 'customsWay', title: '报关方式',width:100}
                ,{field: 'payType', title: '付款方式',width:100}
                ,{field: 'taxPayment', title: '税金付款',width:100}
                ,{field: 'agencyPayment', title: '代收款',width:100}
                ,{field: 'agencyCurrency', title: '代收币别',width:100}
                ,{field: 'numberCases', title: '件数',width:100}
                ,{field: 'trueWeight', title: '收费实重',width:100}
                ,{field: 'weight', title: '收费材重',width:100}
                ,{field: 'chargeWeight', title: '收费重',width:100}
                ,{field: 'chineseName', title: '中文品名',width:100}
                ,{field: 'englishName', title: '英文品名',width:100}
                ,{field: 'orderState', title: '运单状态',width:100}
                ,{field: '', title: '退返客户',width:100}
                ,{field: '', title: '代理退件',width:100}
                ,{field: 'exampleWeight', title: '出货重',width:100}
                ,{field: '', title: '上板',width:100}
                ,{field: 'shihpName', title: '走货路线',width:100}
                ,{field: '', title: '派件网点',width:100}
            ]]
            ,height: 450
            ,width: 1450
            ,page:true
            ,limit:2
        });

        $("#bth").on("click",function(){
            table.reload('userTable', {
                where: { //设定异步数据接口的额外参数，任意设
                    typeId :  $("#typeId").val(),
                    allNumber :  $("#allNumber").val(),
                    openTime : $("#openTime").val(),
                    endTime : $("#endTime").val(),
                    siteId :  $("#siteId").val(),
                    customerType :  $("#clientType").val(),
                    code :  $("#client").val(),
                    serviceType : $("#businessType").val(),
                    assignTypeId :  $("#assignRouteType").val(),
                    assignId : $("#assignRoute").val(),
                    bourn :  $("#bourn").val(),
                    shipmentTypeId :  $("#ShilpRoute").val(),
                    shipmentId :  $("#shipmentRoute").val(),
                    orderState : $("#orderState").val(),
                    packageId : $("#packagingType").val(),
                    cragoId : $("#cargoType").val(),
                    customsWay :  $("#customsWay").val(),
                    paymentMethod :  $("#paymentMethod").val(),
                    taxPayment :  $("#shuijinMethod").val(),
                    threeNumber :  $("#threeNumber").val()
                }
                ,page: {
                    curr: 1 //重新从第 1 页开始
                }

            });



        })

    })
</script>
</html>
